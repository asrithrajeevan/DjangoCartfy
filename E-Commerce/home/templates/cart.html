{% extends 'base.html' %}

{% block title %}
Cart
{% endblock %}

{% block content %}

<div class="container w-100 p-4 bg-light">
    <div class="container w-100 p-4 bg-light">
        <h1>Your Shopping Cart</h1>

        {% if cart_items %}
            <table class="table">
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Image</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Total</th>
                        <th>Remove</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in cart_items %}
                        <tr>
                            <td>{{ item.product.product_name }}</td>
                            <td><img src="{{ item.product.product_image.url }}" alt="{{ item.product.product_name }}" width="100" height="100"></td>
                            <td>{{ item.quantity }}</td>
                            <td>Rs. {{ item.product.product_price }}</td>
                            <td>Rs. {{ item.total }}</td>
                            <td>
                                <form action="{% url 'remove_item_from_cart' item.id %}" method="post">
                                    {% csrf_token %}
                                    <input class="btn btn-success" type="submit" value="Remove item">
                                </form>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            <p>Total Price: Rs. {{ total_price }}</p>
            <p>Total items: Rs. {{ lenght }}</p>
        {% else %}
            <p>Your cart is empty.</p>
        {% endif %}
    </div>
</div>

{% endblock %}
